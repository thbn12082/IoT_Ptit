<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Dashboard - Smart Home Control</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<!-- Navigation -->
<nav class="navbar">
    <div class="nav-container">

        <div class="nav-links">
            <a href="/" class="nav-link active">Dashboard</a>
            <a href="/data-sensor.html" class="nav-link">Data Sensor</a>
            <a href="/action-history.html" class="nav-link">Action History</a>
            <a href="/profile.html" class="nav-link">Profile</a>
        </div>
    </div>
</nav>

<div class="container">
    <!-- Page Header -->
    <div class="page-header">
        <div class="header-content">
            <h1 class="page-title">Smart Home Dashboard</h1>
            <p class="page-subtitle">ƒêi·ªÅu khi·ªÉn v√† gi√°m s√°t thi·∫øt b·ªã th√¥ng minh</p>
        </div>
        <div class="header-actions">
            <div class="system-status">
                <div class="status-card">
                    <div class="status-info">
                        <span class="status-label">H·ªá th·ªëng</span>
                        <span class="status-value" id="systemStatusText">Ho·∫°t ƒë·ªông</span>
                    </div>
                    <div class="status-indicator-modern">
                        <span class="status-pulse online" id="systemStatusDot"></span>
                    </div>
                </div>
            </div>
            <button id="refreshBtn" class="refresh-btn-modern">
                <span class="refresh-icon-modern">‚ü≥</span>
                <span class="refresh-text">L√†m m·ªõi</span>
            </button>
        </div>
    </div>

    <!-- MAIN CONTENT: 2-Column Layout -->
    <div class="dashboard-grid">
        <!-- LEFT COLUMN: Sensors + Chart -->
        <div class="left-column">
            <!-- Sensor Cards Section -->
            <div class="sensors-section-compact">
                <div class="sensors-row">
                    <!-- Temperature Card -->
                    <div class="sensor-card-horizontal temperature">
                        <div class="circle-progress-container">
                            <svg class="progress-circle" width="70" height="70">
                                <circle cx="35" cy="35" r="30" class="circle-bg"></circle>
                                <circle cx="35" cy="35" r="30" class="circle-progress temp-circle" id="tempProgress"></circle>
                            </svg>
                            <div class="circle-content">
                                <div class="sensor-icon-small">üå°Ô∏è</div>
                            </div>
                        </div>
                        <div class="sensor-info-horizontal">
                            <div class="sensor-value" id="currentTemp">29</div>
                            <div class="sensor-label">Temperature</div>
                            <div class="sensor-unit">¬∞C</div>
                        </div>
                    </div>

                    <!-- Humidity Card -->
                    <div class="sensor-card-horizontal humidity">
                        <div class="circle-progress-container">
                            <svg class="progress-circle" width="70" height="70">
                                <circle cx="35" cy="35" r="30" class="circle-bg"></circle>
                                <circle cx="35" cy="35" r="30" class="circle-progress humidity-circle" id="humidityProgress"></circle>
                            </svg>
                            <div class="circle-content">
                                <div class="sensor-icon-small">üíß</div>
                            </div>
                        </div>
                        <div class="sensor-info-horizontal">
                            <div class="sensor-value" id="currentHumidity">47</div>
                            <div class="sensor-label">Humidity</div>
                            <div class="sensor-unit">%</div>
                        </div>
                    </div>

                    <!-- Light Card -->
                    <div class="sensor-card-horizontal light">
                        <div class="circle-progress-container">
                            <svg class="progress-circle" width="70" height="70">
                                <circle cx="35" cy="35" r="30" class="circle-bg"></circle>
                                <circle cx="35" cy="35" r="30" class="circle-progress light-circle" id="lightProgress"></circle>
                            </svg>
                            <div class="circle-content">
                                <div class="sensor-icon-small">‚òÄÔ∏è</div>
                            </div>
                        </div>
                        <div class="sensor-info-horizontal">
                            <div class="sensor-value" id="currentLight">100</div>
                            <div class="sensor-label">Light</div>
                            <div class="sensor-unit">units</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chart Section - Same Width as Sensors -->
            <div class="chart-section-aligned">
                <div class="chart-header-aligned">
                    <h2 class="chart-title-aligned">Bi·ªÉu ƒë·ªì theo d√µi</h2>
                    <div class="chart-controls-aligned">
                        <p class="chart-subtitle-aligned">Theo d√µi d·ªØ li·ªáu c·∫£m bi·∫øn theo th·ªùi gian th·ª±c</p>
<!--                        <select id="chartTimeRange" class="chart-select-aligned">-->
<!--                            <option value="1h">1 gi·ªù qua</option>-->
<!--                            <option value="6h" selected>6 gi·ªù qua</option>-->
<!--                            <option value="24h">24 gi·ªù qua</option>-->
<!--                            <option value="7d">7 ng√†y qua</option>-->
<!--                        </select>-->
                    </div>
                </div>

                <div class="chart-card-aligned">
                    <div class="chart-legend-aligned">
                        <div class="legend-aligned">
                            <div class="legend-item-aligned">
                                <span class="legend-dot-aligned temp"></span>
                                <span class="legend-text-aligned">Nhi·ªát ƒë·ªô (¬∞C)</span>
                            </div>
                            <div class="legend-item-aligned">
                                <span class="legend-dot-aligned humidity"></span>
                                <span class="legend-text-aligned">ƒê·ªô ·∫©m (%)</span>
                            </div>
                            <div class="legend-item-aligned">
                                <span class="legend-dot-aligned light"></span>
                                <span class="legend-text-aligned">√Ånh s√°ng (units/10)</span>
                            </div>
                        </div>
                        <div class="chart-info-aligned">
                            <span class="chart-info-icon"></span>
                            <span class="chart-info-text"></span>
                        </div>
                    </div>
                    <div class="chart-container-aligned">
                        <canvas id="overviewChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- RIGHT COLUMN: Device Controls -->
        <div class="right-column">
            <div class="controls-panel-right">
                <div class="panel-header-right">
                    <h3 class="panel-title-right">ƒêi·ªÅu khi·ªÉn thi·∫øt b·ªã</h3>
                    <p class="panel-subtitle-right">B·∫≠t/t·∫Øt c√°c thi·∫øt b·ªã trong nh√†</p>
                </div>

                <div class="devices-list-right">
                    <!-- LED 1 - ƒê√®n -->
                    <div class="device-item-right" data-device="1">
                        <div class="device-header-right">
                            <div class="device-icon-right led">üí°</div>
                            <div class="device-info-right">
                                <span class="device-name-right">ƒê√®n</span>
                                <span class="device-id-right">LED 1</span>
                            </div>
                            <div class="device-status-right" id="device1Status">
                                <span class="status-badge-right off">T·∫ÆT</span>
                            </div>
                        </div>
                        <div class="device-controls-right">
                            <button class="btn-control-right on" onclick="controlDevice(1, true)">B·∫≠t</button>
                            <button class="btn-control-right off" onclick="controlDevice(1, false)">T·∫Øt</button>
                        </div>
                    </div>

                    <!-- LED 2 - Qu·∫°t -->
                    <div class="device-item-right" data-device="2">
                        <div class="device-header-right">
                            <div class="device-icon-right fan">üåÄ</div>
                            <div class="device-info-right">
                                <span class="device-name-right">Qu·∫°t</span>
                                <span class="device-id-right">LED 2</span>
                            </div>
                            <div class="device-status-right" id="device2Status">
                                <span class="status-badge-right off">T·∫ÆT</span>
                            </div>
                        </div>
                        <div class="device-controls-right">
                            <button class="btn-control-right on" onclick="controlDevice(2, true)">B·∫≠t</button>
                            <button class="btn-control-right off" onclick="controlDevice(2, false)">T·∫Øt</button>
                        </div>
                    </div>

                    <!-- LED 3 - ƒêi·ªÅu h√≤a -->
                    <div class="device-item-right" data-device="3">
                        <div class="device-header-right">
                            <div class="device-icon-right ac">‚ùÑÔ∏è</div>
                            <div class="device-info-right">
                                <span class="device-name-right">ƒêi·ªÅu h√≤a</span>
                                <span class="device-id-right">LED 3</span>
                            </div>
                            <div class="device-status-right" id="device3Status">
                                <span class="status-badge-right off">T·∫ÆT</span>
                            </div>
                        </div>
                        <div class="device-controls-right">
                            <button class="btn-control-right on" onclick="controlDevice(3, true)">B·∫≠t</button>
                            <button class="btn-control-right off" onclick="controlDevice(3, false)">T·∫Øt</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="dashboard.js"></script>
</body>
</html>
