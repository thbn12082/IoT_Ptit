<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Action History - IoT Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- Navigation -->
<nav class="navbar">
    <div class="nav-container">

        <div class="nav-links">
            <a href="/" class="nav-link">Dashboard</a>
            <a href="/data-sensor.html" class="nav-link">Data Sensor</a>
            <a href="/action-history.html" class="nav-link active">Action History</a>
            <a href="/profile.html" class="nav-link">Profile</a>
        </div>
    </div>
</nav>

<div class="container">
    <!-- Page Header -->
    <div class="page-header">
        <h1 class="page-title">Lịch sử hoạt động</h1>
        <div class="search-bar">
            <!-- FIXED: Only 3 devices with proper names -->
            <select id="deviceFilter" class="search-select">
                <option value="all" selected>Tất cả</option>
                <option value="1">Đèn (LED 1)</option>
                <option value="2">Quạt (LED 2)</option>
                <option value="3">Điều hòa (LED 3)</option>
            </select>

            <input id="search" class="search-input" placeholder="Search events, device name, state">

            <input id="timeFilter" class="search-input time-input" placeholder="Thời gian/Ngày (HH:mm, HH:mm ss., d/M/yyyy)">

            <button id="searchBtn" class="search-btn primary">Tìm kiếm</button>
            <button id="clearBtn" class="search-btn secondary">Clear</button>
        </div>
    </div>



    <!-- Data Card -->
    <div class="data-card">
        <div class="table-container">
            <table class="data-table">
                <thead>
                <tr>
                    <th class="th-id">ID</th>
                    <th class="th-device">Thiết bị</th>
                    <th class="th-action">Hành động</th>
                    <th class="th-time">Thời gian</th>
                </tr>
                </thead>
                <tbody id="tableBody">
                <tr>
                    <td colspan="4" class="loading-cell">
                        <div class="loading-spinner"></div>
                        <span>Đang tải dữ liệu...</span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- Table Footer -->
        <div class="table-footer">
            <div class="result-info">
                <span class="range-text">Đang tải...</span>
            </div>
            <div class="table-controls">
                <div class="page-size-control">
                    <span>Hiển thị</span>
                    <select id="pageSizeSelect" class="page-size-select">
                        <option value="5">5</option>
                        <option value="10" selected>10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                    </select>
                    <span>kết quả</span>
                </div>
                <div class="pagination" id="pagination">
                    <!-- Pagination buttons will be here -->
                </div>
            </div>
        </div>
    </div>
</div>

<script src="action-history-fixed.js"></script>
</body>
</html>
